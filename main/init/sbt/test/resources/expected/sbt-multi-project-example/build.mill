package build

import $packages._
import mill._
import mill.javalib._
import mill.javalib.publish._
import mill.scalalib.SbtModule

object `package` extends RootModule {

  def artifactName = "sbt-multi-project-example"

  def scalaVersion = "2.12.3"

  def scalacOptions = super.scalacOptions() ++ Seq(
    "-unchecked",
    "-feature",
    "-language:existentials",
    "-language:higherKinds",
    "-language:implicitConversions",
    "-language:postfixOps",
    "-deprecation",
    "-encoding",
    "utf8"
  )

  def repositoriesTask = Task.Anon {
    super.repositoriesTask() ++ Seq(
      coursier.maven.MavenRepository(
        "https://oss.sonatype.org/service/local/repositories/releases/content/"
      ),
      coursier.maven.MavenRepository(
        "https://oss.sonatype.org/content/repositories/snapshots"
      )
    )
  }

  def pomSettings = PomSettings(
    "sbt-multi-project-example",
    "com.pbassiner",
    "",
    Seq(),
    VersionControl(None, None, None, None),
    Seq()
  )

  def publishVersion = "0.1.0-SNAPSHOT"

}
